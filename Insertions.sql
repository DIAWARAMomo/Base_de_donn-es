/* 
Dao THAUVIN
Mohammed DIAWARA
*/

INSERT INTO Pays VALUES
(1,'Afrique du Sud'), 
(2,'Allemangne'),
(3,'Argentine'),
(4,'Arménie'),
(5,'Australie'),
(6,'Azerbadjian') ,
(7,'Bahrein'),
(8,'Belgique'), 
(9,'Biélorussie'),
(10,'Bresil'),
(11,'Canada'),
(12,'Chine'),
(13,'Colombie'),
(14,'Corée du Nord'),
(15,'Corée du Sud'),
(16,'Croatie'),
(17,'Cuba'),
(18,'Danemark'),
(19,'Espagne'),
(20,'Etats-Unis'),
(21,'Ethiopie'),
(22,'France'),
(23,'Géorgie'),
(24,'Grande-Bretagne'),
(25,'Grèce'),
(26,'Hongrie'),
(27,'Indonésie'),
(28,'Iran'),
(29,'Italie'),
(30,'Jamaïque'),
(31,'Japon'),
(32,'Kazakhstan'),
(33,'Kenya'),
(34,'Nouvelle-Zéland'),
(35,'Ouzbékistan'),
(36,'Pays-Bas'),
(37,'Pologne'),
(38,'Rep.Tchèque'),
(39,'Roumanie'),
(40,'Russie'),
(41,'Serbie'),
(42,'Slovaquie'),
(43,'Slovénie'),
(44,'Suède'),
(45,'Suisse'),
(46,'Taiwan'),
(47,'Thaïlande'),
(48,'Turquie'),
(49,'Ukraine'),
(50,'Vietnam'),
(51,'MALI'),
(52,'Nigeria'),
(53,'Hollande'),
(54,'Norvège'),
(55,'Singapour');

INSERT INTO Athlete(idA,prenom,nom,naissance,sexe,idP) VALUES
(1,'Usain','BOLT','1986-08-21','MAL',30), 
(2,'Justin','GATLIN','1982-02-10','MAL',20),
(3,'Andre','DE GRASSE','1994-11-10','MAL',11),
(4,'Belsan','MUDRANOV','1986-07-07','MAL',40),
(5,'Yeldos','SMETOV','1992-09-09','MAL',32),
(6,'Naohisa','TAKATO','1993-05-30','MAL',31),
(7,'Erica','WIEBE','1989-06-13','FEM',11),
(8,'Gouzel','MANYUROVA','1978-01-24','FEM',32),
(9,'Fengilu','ZHANG','1990-01-01','FEM',12),
(10,'Ekaterina','BUKINA','1987-05-05','FEM',40),
(11,'Aisen','CHEN','1995-10-22','MAL',12),
(12,'DABA','KEITA','1981-05-05','MAL',51),
(13,'David','BOUDIA','1989-04-24','MAL',20),
(14,'Nino','SCHURTER','1986-05-13','MAL',45),
(15,'Joroslav','KULHAVY','1985-01-08','MAL',38),
(16,'Carlos','COLOMA','1981-09-28','MAL',19),
(17,'Anthony','ERVIN','1981-05-26','MAL',20),
(18,'Florent','MANAUDOU','1990-11-12','MAL',22),
(19,'Nathan','ADRIAN','1988-12-07','MAL',20),
(20,'Andy','MURRAY','1987-05-15','MAL',24),
(21,'Juan Martin','DE POTRO','1988-09-23','MAL',3),
(22,'Kei','NISHIKORY','1989-12-29','MAL',31),
(23,'Hye-Ri','OH','1988-05-30','FEM',15),
(24,'Haby','NIARE','1993-06-26','FEM',22),
(25,'James','Kirani','1993-06-26','MAL',14),
(26,'Sibanda','Karabo','1998-07-02','FEM',25),
(27,'Miller','Shaunae','1994-05-15','MAL',31),
(28,'Hastings','Miller','1986-07-23','FEM',13),
(29,'Phyllis','Francis','1992-05-04','FEM',24),
(30,'Eliud','Kipchoge','1984-11-05','MAL',33),
(31,'Galen','Rupp','1986-05-08','MAL',20),
(32,'Jared','Ward','1988-09-09','MAL',20),
(33,'Jemima','Sumgong','1984-12-21','FEM',33),
(34,'Eunice','Jepkirui-Kirwa','1984-05-20','FEM',7),
(35,'Mare','Dibaba','1989-10-20','FEM',21),
(36,'Robert','Grabarz','1987-10-03','MAL',24),
(37,'Andriy','Protsenko','1988-05-20','MAL',49),
(38,'Erik','Kynard','1991-01-03','MAL',20),
(39,'Ruth','Beitia','1979-04-01','FEM',19),
(40,'Blanka','Vlasic','1983-11-08','FEM',16),
(41,'Jeffrey','Henderson','1989-02-19','MAL',20),
(43,'Yana','Egorian','1993-12-20','FEM',40),
(44,'Sophia','Velikaia','1985-06-08','FEM',40),
(45,'Olga','Kharlan','1990-09-04','FEM',40),
(46,'Elaine','Thompson','1992-06-28','FEM',30),
(47,'Tori','Bowie','1990-08-27','FEM',20),
(48,'Shelly-Ann','Frasser-Pryce','1986-12-27','FEM',30),
(49,'Dafne','Schippers','1992-06-15','FEM',53),
(50,'Wayde','Van Niekerk','1992-06-15','MAL',53),
(51,'Kirani','James','1992-09-01','MAL',24),
(52,'LaShawn','Merritt','1992-06-15','MAL',30),
(116,'Fernando','Prass','1988-01-18','MAL',10),
(117,'Douglas','Costa','1985-07-12','MAL',10),
(118,'Rodrigo','Dourodo','1989-03-23','MAL',10),
(119,'Robert','Baueur','1995-09-04','MAL',2),
(120,'Lukas','Klostermann','1996-03-06','MAL',2),
(121,'Max','Meyer','1995-09-18','MAL',2),
(122,'Obi','Mikel','1987-04-22','MAL',52),
(123,'Daniel','Akpeyi','1997-02-07','MAL',52),
(124,'Sadiq','Umar','1997-02-02','MAL',52),
(125,'Kevin','Durant','1988-09-22','MAL',20),
(126,'DeMarcus','Cousins','1990-08-13','MAL',20),
(127,'Harrison','Barnes','1992-05-30','MAL',20),
(128,'Paul','Gasol','1980-06-10','MAL',19),
(129,'Sergio','Rodrigez','1986-06-12','MAL',19),
(130,'Ricky','Rubio','1990-10-21','MAL',19),
(131,'Luis','Scola','1980-10-05','MAL',40),
(132,'Andre','Nocioni','1979-10-30','MAL',40),
(133,'Marcos','Delia','1992-08-04','MAL',40),
(134,'Fucundo','Compazzo','1987-06-24','MAL',18),
(135,'Nicolas','Brussino','1992-05-17','MAL',18),
(136,'Gadriel','Deck','1991-12-08','MAL',18),
(137,'Sebastien','Prieto','1990-01-08-','MAL',24),
(138,'Gawen','Vincent','1988-09-15','MAL',24),
(139,'Tsi','Nadech','1996-08-04','MAL',24),
(140,'Luis','Ferdinado','1993-09-12','MAL',29),
(141,'Sadriano','Malwov','1991-05-07','MAL',29),
(142,'Tadris','Farod','1987-02-08','MAL',29),
(143,'Tinaf','Gael','1997-02-12','MAL',39),
(144,'Tatarusana','Felip','1987-11-07','MAL',39),
(145,'Migjen','Basha','1992-01-09','MAL',39),
(146,'Werner','Kok','1996-06-09','MAL',1),
(147,'Tim','Agaba','1997-04-03','MAL',1),
(148,'Kyle','Brown','1997-02-11','MAL',1),

(149,'Laura','Gloser','03-06-1993','FEM',22),
(150,'Proline','Caotanea','07-06-1993','FEM',22),
(151,'Camille','Saurina','21-05-1985','FEM',22),

(152,'Joseph','Schooling','16-06-1995','MAL',55),
(153,'Michael','Phelps','30-06-1985','MAL',20),
(154,'Lazslo','Cseh','03-12-1985','MAL',26),

(155,'Masato','Saiki','06-07-1995','MAL',31),
(156,'Tamas','Kenderesi','13-12-1996','MAL',26),

(157,'Kosuke','Hagino','15-08-1994','MAL',31),
(158,'Shun','Wang','11-02-1994','MAL',12),

(159,'Eliud','Kipchoge','05-11-1984','MAL',33),
(160,'Feyisa','Lilesa','01-02-1990','MAL',21),

(162,'Christophe','LeMaitre','11-06-1990','MAL',22),

(163,'Chase','Kalisz','07-04-1994','MAL',20),
(164,'Daiya','Seto','24-05-1994','MAL',31),

(165,'Yang','Sun','01-12-1991','MAL',12),
(166,'Aleksandr','Krasnykh','19-06-1995','MAL',40)

;

INSERT INTO Athlete(idA,prenom,nom,idP,naissance,sexe) VALUES
(53,'Yannick','Borel',22,'05-11-1988','MAL'),
(54,'Daniel','Jerent',22,'04-06-1991','MAL'),
(55,'Gauthier','Grumier',22,'29-05-1984','MAL'),
(56,'Jean-Michel','Lucenay',22,'25-06-1978','MAL'),
(57,'Enrico','Garozzo',29,'21-06-1989','MAL'),
(58,'Marco','Fichera',29,'15-06-1993','MAL'),
(59,'Paolo','Pizzo',29,'04-06-1983','MAL'),
(60,'Andrea','Santarelli',29,'03-06-1993','MAL'),
(61,'Gábor','Boczkó',26,'01-06-1977','MAL'),
(62,'Géza','Imre',26,'23-12-1974','MAL'),
(63,'András','Rédli',26,'21-10-1983','MAL'),
(64,'Péter','Somfai',26,'02-06-1980','MAL'),
(65,'Olga','Akopian',40,'04-03-1985','FEM'),
(66,'Irina','Bliznova',40,'06-10-1986','FEM'),
(67,'Vladlena','Bobrovnikova',40,'24-10-1987','FEM'),
(68,'Daria','Dmitrieva',40,'09-08-1995','FEM'),
(69,'Tatiana','Erokhina',40,'07-09-1984','FEM'),
(70,'Ekaterina','Ilina',40,'07-03-1991','FEM'),
(71,'Victoria','Jilinskaïté',40,'06-03-1989','FEM'),
(72,'Victoria','Kalinina',40,'08-12-1988','FEM'),
(73,'Polina','Kouznetsova',40,'10-06-1987','FEM'),
(74,'Ekaterina','Marennikova',40,'29-06-1982','FEM'),
(75,'Maïa','Petrova',40,'28-05-1982','FEM'),
(76,'Anna','Sedoïkina',40,'01-08-1984','FEM'),
(77,'Anna','Sen',40,'03-12-1990','FEM'),
(78,'Marina','Soudakova',40,'17-02-1989','FEM'),
(79,'Anna','Viakhireva',40,'13-03-1995','FEM'),
(80,'Camille','Ayglon-Saurina',22,'21-05-1985','FEM'),
(81,'Chloé','Bulleux',22,'18-11-1991','FEM'),
(82,'Blandine','Dancette',22,'14-02-1988','FEM'),
(83,'Siraba','Dembélé',22,'28-06-1986','FEM'),
(84,'Béatrice','Edwige',22,'03-10-1988','FEM'),
(85,'Laura','Glauser',22,'20-08-1993','FEM'),
(86,'Tamara','Horacek',22,'05-11-1995','FEM'),
(87,'Manon','Houette',22,'02-07-1992','FEM'),
(88,'Alexandra','Lacrabère',22,'27-06-1987','FEM'),
(89,'Laurisa','Landre',22,'27-10-1985','FEM'),
(90,'Amandine','Leynaud',22,'02-05-1986','FEM'),
(91,'Gnonsiane','Niombla',22,'09-07-1990','FEM'),
(92,'Estelle','Nze Minko',22,'11-08-1991','FEM'),
(93,'Allison','Pineau',22,'02-05-1989','FEM'),
(94,'Marie','Prouvensier',22,'09-02-1994','FEM'),
(95,'Grâce','Zaadi',22,'07-07-1993','FEM'),
(96,'Ida','Alstad',54,'13-06-1985','FEM'),
(97,'Emilie','Hegh Arntzen',54,'01-01-1994','FEM'),
(98,'Marit','Malm Frafjord',54,'25-11-1985','FEM'),
(99,'Kari','Aalvik Grimsbo',54,'04-01-1985','FEM'),
(100,'Camilla','Herrem',54,'8-10-1986','FEM'),
(101,'Veronica','Kristiansen',54,'10-07-1990','FEM'),
(102,'Amanda','Kurtovic',54,'25-07-1991','FEM'),
(103,'Heidi','Loke',54,'12-12-1982','FEM'),
(104,'Katrine','Lunde',54,'30-03-1980','FEM'),
(105,'Mari','Molid',54,'08-08-1990','FEM'),
(106,'Nora','Mork',54,'05-04-1991','FEM'),
(107,'Stine','Bredal Oftedal',54,'25-10-1991','FEM'),
(108,'Linn-Kristin','Riegelhuth Koren',54,'01-08-1984','FEM'),
(109,'Sanna','Solberg',54,'16-06-1990','FEM'),
(110,'Gabriella','Szabó',26,'14-08-1990','FEM'),
(111,'Danuta','Kozák',26,'11-01-1987','FEM'),
(112,'Franziska','Weber',2,'24-05-1989','FEM'),
(113,'Tina','Dietze',2,'25-01-1988','FEM'),
(114,'Karolina','Naja',37,'05-02-1990','FEM'),
(115,'Beata','Mikołajczyk',37,'15-10-1985','FEM')
;

INSERT INTO Equipe VALUES
(1,10), 
(2,2),
(3,52),
(4,22),
(5,3),
(6,20) ,
(7,19),
(8,40),
(9,53),
(10,18),
(11,24),
(12,29),
(13,39),
(14,1),
(15,51),
(16,41),
(17,16),
(18,22),
(19,29),
(20,26),
(21,40),
(22,22),
(23,54),
(24,26),
(25,2),
(26,37)
;

INSERT INTO Membre VALUES
(53,18)
,(54,18)
,(55,18)
,(56,18)
,(57,19)
,(58,19)
,(59,19)
,(60,19)
,(61,20)
,(62,20)
,(63,20)
,(64,20)
,(65,21)
,(66,21)
,(67,21)
,(68,21)
,(69,21)
,(70,21)
,(71,21)
,(72,21)
,(73,21)
,(74,21)
,(75,21)
,(76,21)
,(77,21)
,(78,21)
,(79,21)
,(80,22)
,(81,22)
,(82,22)
,(83,22)
,(84,22)
,(85,22)
,(86,22)
,(87,22)
,(88,22)
,(89,22)
,(90,22)
,(91,22)
,(92,22)
,(93,22)
,(94,22)
,(95,22)
,(96,23)
,(97,23)
,(98,23)
,(99,23)
,(100,23)
,(101,23)
,(102,23)
,(103,23)
,(104,23)
,(105,23)
,(106,23)
,(107,23)
,(108,23)
,(109,23)
,(110,24)
,(111,24)
,(112,25)
,(113,25)
,(114,26)
,(115,26),
(116,1),
(117,1),
(118,1),
(119,2),
(120,2),
(121,2),
(122,3),
(123,3),
(124,3),
(125,4),
(126,4),
(127,4),
(128,7),
(129,7),
(130,7),
(131,6),
(132,6),
(133,6),
(134,5),
(135,5),
(136,5),
(137,11),
(138,11),
(139,11),
(140,12),
(141,12),
(142,12),
(143,13),
(144,13),
(145,13),
(147,14),
(148,14),
(146,14),
(113,4),
(114,4),
(115,4)
;


INSERT INTO Sport VALUES
(1,'Athletisme'),
(2,'Aviron'),
(3,'BMX'),
(4,'Badminton'),
(5,'Basket'),
(6,'Beach Volley'),
(7,'Boxe'),
(8,'Canoë-Kayak'),
(9,'Cyclisme sur piste'),
(10,'Cyclisme sur route'),
(11,'Equitation'),
(12,'Escrime'),
(13,'Football'),
(14,'Gymnastique artistique'),
(15,'Gymnastique rythmique'),
(16,'Handball'),
(17,'Judo'),
(18,'Natation'),
(19,'Plongeon'),
(20,'Rugby à VII'),
(21,'Tennis'),
(22,'Water polo'),
(23,'VTT'),
(24,'Natation en eau libre'),
(25,'Natation Synchronisée');

INSERT INTO EpreuveEquipe VALUES 
(1,'SENIOR-foot',13,1,2,3,'MAL'),
(2,'SENIOR-basket',5,6,7,8,'MAL'),
(3,'SENIOR-handball',16,10,4,2,'FEM'),
(4,'Deux barré',2,11,12,13,'MAL'),
(5,'SENIOR-Rugby',20,5,11,14,'MAL' ),
(6,'SENIOR',22,16,17,12,'MAL'),
(7,'Natation syn Duo',25,8,11,13,'MAL');

INSERT INTO EpreuveEquipe(idEE,nom,sexe,idS,mor,margent,mbronze) VALUES
(8,'Epee','MAL',12,18,19,20),
(9,'K2 500m','FEM',8,24,25,26),
(10,'Handball','FEM',16,21,22,23)
;

INSERT INTO EpreuveSolo VALUES
(1,'100m','MAL',1,2,3,1),
(2,'-60kg','MAL',4,5,6,7),
(3,'+81kg','MAL',12,5,36,17),
(4,'Simple tenis','MAL',20,21,22,21),
(5,'50m Nage Libre','MAL',17,18,19,18),
(6,'10m plongeon','MAL',11,12,13,19),
(7,'100m nage libre','FEM',46,47,48,1),
(8,'200m nage libre','FEM',46,49,47,1),
(18,'200m nage libre','MAL',165,157,166,1),
(9,'400m nage libre','MAL',50,51,52,1),
(10,'SABRE','FEM',43,44,45,11),
(11,'100m papillon','MAL',152,153,154,18),
(12,'200m papillon','MAL',153,155,156,18),
(13,'200m 4 nages','MAL',157,163,164,18),
(14,'400m 4 nages','MAL',153,157,158,18),
(15,'Marathon','MAL',159,160,31,1),
(16,'200m','MAL',1,3,162,1),
(17,'400m','MAL',50,51,52,1);

INSERT INTO MatchSolo VALUES
(1,'2016-08-14',1,1,'final'),
(2,'2016-08-16',4,2,'final'),
(3,'2016-08-12',12,3,'semi final'),
(4,'2016-08-17',20,4,'final'),
(5,'2016-08-15',17,5,'final'),
(6,'2016-08-15',46,7,'final'),
(7,'2016-08-16',46,8,'final'),
(8,'2016-08-14',50,9,'final'),
(9,'2016-08-21',159,15,'final'),
(10,'2016-08-12',152,11,'final'),
(11,'2016-08-09',153,12,'final'),
(12,'2016-08-08',157,13,'final'),
(13,'2016-08-07',153,14,'final'),
(14,'2016-08-08',165,18,'final')
;

INSERT INTO MatchSPoint VALUES
(4);

INSERT INTO MatchSChrono VALUES
(1),(5),(6),(7),(8),(9),(10),(11),(12),(13),(14);

INSERT INTO ParticipationMSP VALUES
(20,4,24);

INSERT INTO ParticipationMSC VALUES
(1,1,'00:00:09.81'),
(17,5,'00:00:21.40'),
(46,6,'00:00:52.70'),
(46,7,'00:01:56.03'),
(49,7,'00:01:56.29'),
(47,7,'00:00:21.73'),
(50,8,'00:00:43.03'),
(159,9,'00:02:08.44'),
(160,9,'00:02:09.54'),
(31,9,'00:02:10.05'),
(165,14,'00:01:44.63'),
(157,14,'00:01:45.45'),
(166,14,'00:01:45.69'),
(152,10,'00:00:50.39'),
(153,10,'00:00:51.14'),
(154,10,'00:00:51.14'),
(153,11,'00:01:53.36'),
(155,11,'00:01:53.40'),
(156,11,'00:01:53.62'),
(157,12,'00:04:06.05'),
(163,12,'00:04:06.75'),
(164,12,'00:04:09.71'),
(153,13,'00:01:54.66'),
(157,13,'00:01:56.61'),
(158,13,'00:01:57.05')
;

INSERT INTO MatchEquipe VALUES
(1,'2016-08-20',1,1,'final'),
(2,'2016-08-14',6,2,'final'),
(3,'2016-08-18',16,6,'semi final'),
(4,'2016-08-16',11,4,'final'),
(5,'2016-08-12',10,3,'final'),
(6,'2016-08-11',2,1,'semi-final'),
(7,'2016-08-18',10,3,'semi-final'),
(8,'2016-08-16',17,6,'semi-final'),
(9,'14-08-2016',1,8,'semi final'),
(10,'14-08-2016',1,8,'final'),
(11,'18-08-2016',4,10,'semi final'),
(12,'20-08-2016',4,10,'final'),
(13,'16-08-2016',7,9,'final');

INSERT INTO MatchEPoint VALUES
(9),(10),(11),(12);

INSERT INTO MatchEChrono VALUES
(13);

INSERT INTO ParticipationMEC(idMEC,idE,temps) VALUES
(13,24,'00:01:43.687'),(13,25,'00:01:43.738'),(13,26,'00:01:45.207');

INSERT INTO ParticipationMEP(idMEP,idE,score) VALUES
(9,18,45),(9,20,40),(10,18,45),(10,19,31),(11,21,38),(11,23,37),(12,21,22),(12,22,19);


INSERT INTO MatchEChrono VALUES
(5);

INSERT INTO MatchEMetre VALUES
(7);

INSERT INTO MatchEPoint VALUES
(1),(2),(3);

INSERT INTO ParticipationMEP VALUES
(1,1,5),
(11,2,96),
(10,3,28);

INSERT INTO ParticipationMEM VALUES
(8,7,6);

--Mon Indice
CREATE MATERIALIZED VIEW Indice AS (
SELECT Sport.idS,Sport.nom,jour,
COUNT(DISTINCT Matchs.idM) as NombreEvenements,
COUNT(DISTINCT Athletes.idA)
as NombreAthletes,
COUNT(DISTINCT Matchs.idM)*5+COUNT(DISTINCT Athletes.idA) as NombreVolontaires
FROM Sport JOIN (SELECT idS,idEE as idE,'equipe' as typ FROM EpreuveEquipe UNION SELECT idS,idES as idE,'solo' as typ FROM EpreuveSolo) as epreuve ON epreuve.idS=Sport.idS JOIN (SELECT idMS as idM,idES as idE,'solo' as typ,jour FROM MatchSolo UNION SELECT idME as idM, idEE as idE,'equipe' as typ,jour FROM MatchEquipe) as Matchs ON Matchs.idE=Epreuve.idE AND Matchs.typ=Epreuve.typ
JOIN
(SELECT DISTINCT idA as idA,idM,typ FROM 
(SELECT idA,idM,'solo' as typ FROM (SELECT idA,idMSC as idM FROM ParticipationMSC UNION ALL SELECT idA,idMSM as idM FROM ParticipationMSM UNION ALL SELECT idA,idMSP as idM FROM ParticipationMSP) as ParticipationSolo
UNION 
SELECT idA,idM,'equipe' as typ FROM (SELECT idE,idMEC as idM FROM ParticipationMEC UNION ALL SELECT idE,idMEM as idM FROM ParticipationMEM UNION ALL SELECT idE,idMEP as idM FROM ParticipationMEP) as ParticipationEquipe JOIN Membre ON Membre.idE=ParticipationEquipe.idE
) as Athlete) as Athletes ON Athletes.typ=Matchs.typ AND Matchs.idM =Athletes.idM
GROUP BY sport.idS,sport.nom,jour
); 